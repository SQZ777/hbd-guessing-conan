# 🕵️ 案件檔案：生日特別任務 - 技術規格書

> **專案代號**: HBD-GUESSING-CONAN  
> **案件編號**: CASE #2026-0122  
> **開發框架**: Vue 3  
> **目標**: 打造一個偵探風格的問答解謎網頁，引導使用者找到生日禮物

---

## 📋 專案概述

### 專案目的
建立一個以「名偵探柯南」為主題的互動式問答網頁，讓使用者（老婆）透過回答 4 道問題來解鎖線索，最終揭曉禮物藏匿地點：**異次元的狙擊手拼圖後面**。

### 核心體驗
- 沉浸式偵探辦案情境
- 循序漸進的線索解鎖機制
- 答對才能推進，答錯需重新推理
- 最終揭曉「真相只有一個」的驚喜時刻

---

## 🎨 UI/UX 設計規範

### 整體風格
| 項目 | 規範 |
|------|------|
| 主題風格 | 偵探案件檔案風 |
| 主色調 | 深藍 `#1a1a2e`、黑 `#0f0f0f`、灰 `#2d2d44` |
| 點綴色 | 紅色 `#e63946`（警示/重點） |
| 輔助色 | 金色 `#d4a373`（線索卡邊框/印章） |
| 視覺元素 | 檔案夾、線索卡、放大鏡、警戒線、指紋、打字機字體 |
| 文字語氣 | 冷靜、推理、下結論風格 |

### 響應式設計
- **優先設計**: 手機優先（Mobile First）
- **操作方式**: 單手可操作
- **按鈕尺寸**: 最小 48px 高度
- **字體大小**: 主文字 16px 以上，標題 24px 以上

### 字體建議
```css
/* 標題/重點文字 - 打字機風格 */
font-family: 'Courier New', 'Noto Sans TC', monospace;

/* 內文 */
font-family: 'Noto Sans TC', sans-serif;
```

---

## 📱 頁面結構

### 頁面流程圖
```
┌─────────────┐
│   歡迎頁    │
│ (案件開場)  │
└──────┬──────┘
       ▼
┌─────────────┐
│  題目頁 #1  │ ◄─── 答錯：留在此頁
│ (選擇題)    │
└──────┬──────┘
       ▼ 答對
┌─────────────┐
│  題目頁 #2  │ ◄─── 答錯：留在此頁
│ (選擇題)    │
└──────┬──────┘
       ▼ 答對
┌─────────────┐
│  題目頁 #3  │ ◄─── 答錯：留在此頁
│ (選擇題)    │
└──────┬──────┘
       ▼ 答對
┌─────────────┐
│  題目頁 #4  │ ◄─── 答錯：留在此頁
│ (選擇題)    │
└──────┬──────┘
       ▼ 答對
┌─────────────┐
│   結案頁    │
│ (真相揭曉)  │
└─────────────┘
```

---

## 📄 頁面詳細規格

### 1️⃣ 歡迎頁（Welcome Page）

#### 目的
讓使用者進入「我正在接一個案子」的情緒氛圍。

#### 頁面元素

| 元素 | 內容 | 樣式 |
|------|------|------|
| 案件編號 | `CASE #2026-0123` | 右上角，小字，紅色 |
| 主標題 | `📁 案件檔案：生日特別任務` | 大字，打字機風格 |
| 檔案摘要 | 目標：找出禮物位置<br>狀態：線索未解鎖 | 小字，灰色，像檔案資訊 |
| 偵探提示 | `「提示：證物就藏在你每天看見的地方。」` | 斜體，引號包覆 |
| 主按鈕 | `🔍 開始調查` | 大按鈕，深藍底白字 |

#### 互動行為
- 點擊「開始調查」→ 進入第一題

#### 視覺效果（可選）
- 頁面載入時，文字逐行打字機效果顯示
- 背景有微微的指紋浮水印

---

### 2️⃣ 題目頁（Question Page）

#### 目的
每題像「取得一張線索卡」，答對才解鎖下一張。

#### 通用頁面結構

```
┌────────────────────────────────┐
│  線索 1 / 4          [難度標籤] │  ← 頁首進度區
├────────────────────────────────┤
│  ┌──────────────────────────┐  │
│  │      📋 線索 #1          │  │
│  │                          │  │
│  │   [題目文字內容]          │  │
│  │                          │  │
│  └──────────────────────────┘  │  ← 線索卡（Evidence Card）
│                                │
│  ┌──────────────────────────┐  │
│  │  ○ 選項 A                │  │
│  │  ○ 選項 B                │  │
│  │  ○ 選項 C                │  │
│  │  ○ 選項 D                │  │
│  └──────────────────────────┘  │  ← 選項區
│                                │
│       [ 🔎 提交推理 ]          │  ← 主按鈕
│                                │
│  [回饋訊息區]                   │
└────────────────────────────────┘
```

#### 回饋訊息

| 狀態 | 訊息內容 | 樣式 |
|------|----------|------|
| 答對 | `✅ 線索成立。下一份證物已解鎖。` | 綠色文字，1.5 秒後自動跳轉 |
| 答錯 | `❌ 推理不成立。重新檢視現場線索。` | 紅色文字，標記已選過的選項 |

#### 特殊視覺效果
- **答對時**：短暫顯示「真相只有一個」浮動文字（1 秒淡出）
- **答錯時**：畫面微微震動（shake animation）

---

### 3️⃣ 結案頁（Final Page）

#### 目的
把情緒拉滿，給她明確的「去翻拼圖」指令。

#### 頁面元素

| 元素 | 內容 | 樣式 |
|------|------|------|
| 主標題 | `🕵️ 結案報告` | 超大字，金色 |
| 恭喜文字 | `你已完成推理。證據鏈完整，真相成立。` | 中字，白色 |
| 核心揭曉 | `結論：異次元的狙擊手` | 大字，紅色，像最終結論 |
| 行動指令 | `📍 下一步：請去找「異次元的狙擊手」那幅拼圖。`<br>`證物藏在拼圖的後面。` | 金色邊框卡片 |
| 柯南彩蛋 | `「真相只有一個！」` + 柯南圖片 | 置中，圖片可選 |

#### 視覺效果
- **CASE CLOSED 印章動畫**：紅色印章從上方蓋下的動畫效果
- 或「警戒線」慢慢收起來的效果
- 背景可加入慶祝但低調的粒子效果（非彩帶煙火）

---

## ❓ 題目資料結構

### 資料模型

```typescript
interface Question {
  id: number;
  type: 'choice';           // 題型：選擇題
  question: string;         // 題目文字
  options: string[];        // 選項陣列
  answer: string;           // 正確答案
  hint?: string;            // 提示（可選）
  difficulty: 'Easy' | 'Normal' | 'Hard';  // 難度標籤
}
```

### 題目內容

```typescript
const questions: Question[] = [
  {
    id: 1,
    type: 'choice',
    question: '我們第一次看的柯南電影是？',
    options: ['紺青之拳', '異次元狙擊手', '獨眼的殘像', '零的執行人'],
    answer: '紺青之拳',
    difficulty: 'Easy'
  },
  {
    id: 2,
    type: 'choice',
    question: '我們搬進延平北路這個家之後，回南京三民洗澡了幾天？',
    options: ['3天', '5天', '7天', '10天'],
    answer: '5天',
    difficulty: 'Normal'
  },
  {
    id: 3,
    type: 'choice',
    question: '已經拼好的拼圖擺在延平三樓總共有幾幅？',
    options: ['3幅', '4幅', '5幅', '6幅'],
    answer: '5幅',
    hint: '仔細數數看，包含所有房間喔！',
    difficulty: 'Normal'
  },
  {
    id: 4,
    type: 'choice',
    question: '2014 年柯南出的電影是？',
    options: ['業火的向日葵', '異次元的狙擊手', '絕海的偵探', '純黑的惡夢'],
    answer: '異次元的狙擊手',
    hint: '這是最重要的線索...',
    difficulty: 'Hard'
  }
];
```

---

## 🔧 技術規格

### 技術棧

| 類別 | 技術選擇 |
|------|----------|
| 框架 | Vue 3 (Composition API) |
| 建構工具 | Vite |
| 路由 | Vue Router 4 |
| 狀態管理 | Pinia 或 Composition API (ref/reactive) |
| 樣式 | SCSS / CSS Variables |
| 動畫 | CSS Animations / Vue Transition |
| 部署 | Vercel / Netlify / GitHub Pages |

### 專案結構

```
src/
├── assets/
│   ├── images/
│   │   ├── conan.png           # 柯南圖片
│   │   ├── stamp.png           # CASE CLOSED 印章
│   │   └── fingerprint.svg     # 指紋背景
│   └── styles/
│       ├── variables.scss      # CSS 變數
│       └── animations.scss     # 動畫定義
├── components/
│   ├── EvidenceCard.vue        # 線索卡組件
│   ├── OptionButton.vue        # 選項按鈕組件
│   ├── ProgressBar.vue         # 進度條組件
│   ├── FeedbackMessage.vue     # 回饋訊息組件
│   └── CaseClosedStamp.vue     # 結案印章動畫組件
├── views/
│   ├── WelcomePage.vue         # 歡迎頁
│   ├── QuestionPage.vue        # 題目頁（通用）
│   └── FinalPage.vue           # 結案頁
├── data/
│   └── questions.ts            # 題目資料
├── composables/
│   └── useGameState.ts         # 遊戲狀態邏輯
├── router/
│   └── index.ts                # 路由設定
├── App.vue
└── main.ts
```

### 路由設計

```typescript
const routes = [
  { path: '/', name: 'Welcome', component: WelcomePage },
  { path: '/question/:id', name: 'Question', component: QuestionPage },
  { path: '/final', name: 'Final', component: FinalPage }
];
```

### 狀態管理

```typescript
// useGameState.ts
interface GameState {
  currentQuestion: number;      // 當前題目 (1-4)
  answeredQuestions: number[];  // 已答對的題目
  wrongAttempts: Record<number, string[]>;  // 每題答錯的選項記錄
}
```

---

## 🎯 功能需求清單

### 必要功能 (MVP)

- [ ] 歡迎頁面顯示案件資訊
- [ ] 4 道選擇題依序呈現
- [ ] 答對進入下一題，答錯留在當前頁
- [ ] 錯誤選項標記（灰色/刪除線）
- [ ] 進度顯示（線索 X / 4）
- [ ] 結案頁面揭曉禮物位置
- [ ] 響應式設計（手機優先）
- [ ] 基本過場動畫

### 加分功能 (Nice to Have)

- [ ] 提示系統（每題 1-2 次提示機會）
- [ ] 打字機效果
- [ ] 「真相只有一個」彩蛋動畫
- [ ] CASE CLOSED 印章動畫
- [ ] 背景音效（可選開關）
- [ ] 本地儲存進度（防止重新整理遺失）

---

## 🎨 視覺素材需求

| 素材 | 說明 | 格式 |
|------|------|------|
| 柯南圖片 | 結案頁使用 | PNG (透明背景) |
| CASE CLOSED 印章 | 結案動畫 | PNG/SVG |
| 指紋圖案 | 背景浮水印 | SVG |
| 放大鏡 icon | 按鈕裝飾 | SVG |
| 警戒線圖案 | 裝飾元素 | SVG/CSS |

---

## 📝 文案內容

### 固定文案

```yaml
# 歡迎頁
case_number: "CASE #2026-0123"
main_title: "📁 案件檔案：生日特別任務"
target: "目標：找出禮物位置"
status: "狀態：線索未解鎖"
hint: "「提示：證物就藏在你每天看見的地方。」"
start_button: "🔍 開始調查"

# 題目頁
progress_template: "線索 {current} / {total}"
card_title_template: "📋 線索 #{number}"
submit_button: "🔎 提交推理"
hint_button: "💡 索取提示"
correct_message: "✅ 線索成立。下一份證物已解鎖。"
wrong_message: "❌ 推理不成立。重新檢視現場線索。"
easter_egg: "真相只有一個"

# 結案頁
final_title: "🕵️ 結案報告"
congrats: "你已完成推理。證據鏈完整，真相成立。"
conclusion_label: "結論："
conclusion: "異次元的狙擊手"
action_title: "📍 下一步"
action_line1: "請去找「異次元的狙擊手」那幅拼圖。"
action_line2: "證物藏在拼圖的後面。"
conan_quote: "「真相只有一個！」"
```

---

## 🚀 開發里程碑

### Phase 1: 基礎架構（Day 1）
- [ ] 初始化 Vue 3 + Vite 專案
- [ ] 設定路由與基本頁面結構
- [ ] 定義 CSS 變數與基礎樣式

### Phase 2: 核心功能（Day 2）
- [ ] 實作題目資料與狀態管理
- [ ] 完成歡迎頁
- [ ] 完成題目頁（含選擇與驗證邏輯）
- [ ] 完成結案頁

### Phase 3: 優化與動畫（Day 3）
- [ ] 加入過場動畫
- [ ] 實作「真相只有一個」彩蛋
- [ ] 實作 CASE CLOSED 印章動畫
- [ ] 響應式調整與測試

### Phase 4: 部署（Day 4）
- [ ] 最終測試
- [ ] 部署至線上環境
- [ ] 產生專屬網址給老婆

---

## ✅ 驗收標準

1. 使用者可從歡迎頁開始調查
2. 4 道題目依序顯示，答對才能進入下一題
3. 答錯時顯示錯誤訊息，已選過的選項被標記
4. 第四題答對後顯示結案頁
5. 結案頁清楚指示禮物位置：「異次元的狙擊手拼圖後面」
6. 手機上操作流暢，按鈕大小適中
7. 整體視覺風格符合偵探/柯南主題

---

## 📎 附錄

### 柯南電影年表參考

| 年份 | 電影名稱 |
|------|----------|
| 2013 | 絕海的偵探 |
| **2014** | **異次元的狙擊手** ⭐ |
| 2015 | 業火的向日葵 |
| 2016 | 純黑的惡夢 |
| 2019 | 紺青之拳 |
| 2018 | 零的執行人 |

---

> 📌 **備註**: 此規格書為初版，實際開發時可依需求調整細節。
> 
> 🎂 **祝老婆生日快樂！真相只有一個——我愛你！**
